{% from "partials/icon.njk" import icon %}
{% macro searchFiltersSection(placeholder, stats) %}
  <section class="max-w-6xl mx-auto px-4 sm:px-6 py-3 sm:py-4" aria-labelledby="filter-heading">
    <div class="surface-card search-panel p-6 sm:p-7">
      <div class="flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between mb-5">
        <div>
          <h2 id="filter-heading" class="text-xl sm:text-2xl font-extrabold text-slate-900 dark:text-white">
            Sök bland stödlinjer
          </h2>
          <p class="text-sm muted">Filtrera på område eller sök efter namn, nummer eller beskrivning.</p>
        </div>
        <div class="flex gap-3 items-center text-sm muted-soft">
          {% for stat in stats %}
            <span class="stat-chip">{{ stat }}</span>
          {% endfor %}
        </div>
      </div>

      <div class="space-y-4">
        <div class="search-shell">
          {{ icon('search', 'line', 'text-slate-400') }}
          <label for="searchInput" class="sr-only">Sök stödlinjer</label>
          <input
            type="search"
            id="searchInput"
            placeholder="{{ placeholder }}"
            aria-label="Sök bland stödlinjer"
          />
        </div>

        <nav aria-label="Kategorier" class="flex gap-3 overflow-x-auto pb-2 scrollbar-hide" id="categories">
          <button class="category-btn is-active" data-category="all" aria-pressed="true">
            <span>{{ icon('grid-3x3') }} Alla</span>
          </button>
          <button class="category-btn" data-category="psykisk-halsa" aria-pressed="false">
            <span>{{ icon('brain') }} Psykisk Hälsa</span>
          </button>
          <button class="category-btn" data-category="barn-unga" aria-pressed="false">
            <span>{{ icon('family-2') }} Barn &amp; Unga</span>
          </button>
          <button class="category-btn" data-category="vald" aria-pressed="false">
            <span>{{ icon('bandage') }} Våld &amp; Utsatthet</span>
          </button>
          <button class="category-btn" data-category="missbruk" aria-pressed="false">
            <span>{{ icon('wine-glass-2') }} Missbruk &amp; Beroende</span>
          </button>
          <button class="category-btn" data-category="anhoriga" aria-pressed="false">
            <span>{{ icon('group') }} Anhöriga</span>
          </button>
          <button class="category-btn" data-category="aldre" aria-pressed="false">
            <span>{{ icon('old-person-walker') }} Äldre</span>
          </button>
          <button class="category-btn" data-category="ovrigt" aria-pressed="false">
            <span>{{ icon('asterisk') }} Övrigt</span>
          </button>
        </nav>
      </div>
    </div>
  </section>
{% endmacro %}
